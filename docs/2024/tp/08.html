<!doctype html>
<html lang="fr" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-2024 docs-doc-page docs-doc-id-tp/08" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">TP 08 - Mémoire Virtuelle | Systèmes d&#x27;exploitation 2</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://upb-fils-sde2.github.io/img/sde2_social_card.png"><meta data-rh="true" name="twitter:image" content="https://upb-fils-sde2.github.io/img/sde2_social_card.png"><meta data-rh="true" property="og:url" content="https://upb-fils-sde2.github.io/docs/2024/tp/08"><meta data-rh="true" property="og:locale" content="fr"><meta data-rh="true" name="docusaurus_locale" content="fr"><meta data-rh="true" name="docsearch:language" content="fr"><meta data-rh="true" name="docusaurus_version" content="2024"><meta data-rh="true" name="docusaurus_tag" content="docs-default-2024"><meta data-rh="true" name="docsearch:version" content="2024"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-2024"><meta data-rh="true" property="og:title" content="TP 08 - Mémoire Virtuelle | Systèmes d&#x27;exploitation 2"><meta data-rh="true" name="description" content="Fonctionnement de la mémoire virtuelle, Inspection de la disposition de la mémoire de processus (pmap), Mappage de fichiers et de pages vides en mémoire"><meta data-rh="true" property="og:description" content="Fonctionnement de la mémoire virtuelle, Inspection de la disposition de la mémoire de processus (pmap), Mappage de fichiers et de pages vides en mémoire"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://upb-fils-sde2.github.io/docs/2024/tp/08"><link data-rh="true" rel="alternate" href="https://upb-fils-sde2.github.io/docs/2024/tp/08" hreflang="fr"><link data-rh="true" rel="alternate" href="https://upb-fils-sde2.github.io/docs/2024/tp/08" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.28220342.css">
<script src="/assets/js/runtime~main.56415651.js" defer="defer"></script>
<script src="/assets/js/main.2e711edf.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Aller au contenu principal"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Aller au contenu principal</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Ouvrir/fermer la barre de navigation" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="Systèmes d&#x27;exploitation 2" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.png" alt="Systèmes d&#x27;exploitation 2" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Systèmes d&#x27;exploitation 2</b></a><a class="navbar__item navbar__link" href="/docs/category/cours">Cours</a><a class="navbar__item navbar__link" href="/docs/category/tp">TP</a><a class="navbar__item navbar__link" href="/docs/category/devoir">Devoir</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/2024/tp/08">2024</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/intro">2025</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/2024/tp/08">2024</a></li></ul></div><a href="https://github.com/UPB-FILS-SdE2/upb-fils-sde2.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Basculer entre le mode sombre et clair (actuellement mode clair)" aria-label="Basculer entre le mode sombre et clair (actuellement mode clair)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Retour au début de la page" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/2024/intro">Bienvenue</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/2024/category/cours">Cours</a><button aria-label="Développer la catégorie &#x27;Cours&#x27; de la barre latérale" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/2024/category/tp">TP</a><button aria-label="Réduire la catégorie &#x27;TP&#x27; de la barre latérale" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2024/tp/01">TP 01 - Rust pour les débutants</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2024/tp/02">TP 02 - Possession et arguments du programme</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2024/tp/03">TP 03 - Systems de fichiers et le type Result</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2024/tp/04">TP 04 - Processus et le type Box</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2024/tp/05">TP 05 - Fichiers et descripteurs de fichiers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2024/tp/06">TP 06 - Communication Entre Processus</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2024/tp/07">TP 07 - Signaux</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/2024/tp/08">TP 08 - Mémoire Virtuelle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2024/tp/09">TP 09 - Mémoire Virtuelle (Mappage de fichiers)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2024/tp/10">TP 10 - Fils d&#x27;Execution</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/2024/category/devoir">Devoir</a><button aria-label="Développer la catégorie &#x27;Devoir&#x27; de la barre latérale" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>Ceci est la documentation de <!-- -->Systèmes d&#x27;exploitation 2<!-- --> <b>2024</b>, qui n&#x27;est plus activement maintenue.</div><div class="margin-top--md">Pour une documentation à jour, consultez la <b><a href="/docs/intro">dernière version</a></b> (<!-- -->2025<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Fil d&#x27;Ariane"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Page d&#x27;accueil" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/2024/category/tp"><span itemprop="name">TP</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">TP 08 - Mémoire Virtuelle</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 2024</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">Sur cette page</button></div><div class="theme-doc-markdown markdown"><header><h1>TP 08 - Mémoire Virtuelle</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="resources">Resources<a href="#resources" class="hash-link" aria-label="Lien direct vers Resources" title="Lien direct vers Resources">​</a></h2>
<p>Fonctions de mappage de la mémoire:</p>
<ol>
<li><a href="https://docs.rs/nix/latest/nix/sys/mman/fn.mmap.html" target="_blank" rel="noopener noreferrer">mmap</a></li>
<li><a href="https://docs.rs/nix/latest/nix/sys/mman/fn.mprotect.html" target="_blank" rel="noopener noreferrer">mprotect</a></li>
<li><a href="https://docs.rs/nix/latest/nix/sys/mman/fn.munmap.html" target="_blank" rel="noopener noreferrer">munmap</a>
Indicateurs de protection de la mémoire:</li>
<li><a href="https://docs.rs/nix/latest/nix/sys/mman/struct.ProtFlags.html" target="_blank" rel="noopener noreferrer">ProtFlags</a></li>
<li><a href="https://docs.rs/nix/latest/nix/sys/mman/struct.MapFlags.html" target="_blank" rel="noopener noreferrer">MapFlags</a></li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="gestion-de-la-mémoire">Gestion de la mémoire<a href="#gestion-de-la-mémoire" class="hash-link" aria-label="Lien direct vers Gestion de la mémoire" title="Lien direct vers Gestion de la mémoire">​</a></h2>
<p>Le système de gestion de la mémoire d&#x27;un système d&#x27;exploitation est utilisé par tous les autres sous-systèmes: planificateur, E / S, système de fichiers, gestion des processus, mise en réseau. La mémoire est une ressource importante, c&#x27;est pourquoi des algorithmes efficaces pour son utilisation et sa gestion sont nécessaires.</p>
<p>Le rôle du sous-système de gestion de la mémoire est de:</p>
<ul>
<li>garder une trace des zones de mémoire physique (occupée ou libre)</li>
<li>pour fournir aux processus ou autres sous-systèmes un accès à la mémoire</li>
<li>mapper les pages de mémoire virtuelle d&#x27;un processus (pages) sur les pages physiques (frames)</li>
</ul>
<p>Le noyau du système d&#x27;exploitation propose un ensemble d&#x27;interfaces (appels système) qui permettent l&#x27;allocation / partage de mémoire, le mappage de régions de mémoire virtuelle sur des fichiers, le partage de zones de mémoire.</p>
<p>Malheureusement, le niveau limité de compréhension de ces interfaces et des actions qui se produisent derrière elles conduit à un certain nombre de problèmes qui sont couramment rencontrés dans les applications logicielles: fuites de mémoire, accès invalides, écrasement, débordement de tampon, corruption de zone mémoire.</p>
<p>Il est donc essentiel de connaître le contexte dans lequel le sous-système de gestion de la mémoire fonctionne et de comprendre l&#x27;interface fournie au programmeur par le système d&#x27;exploitation.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="lespace-dadressage-dun-processus">L&#x27;espace d&#x27;adressage d&#x27;un processus<a href="#lespace-dadressage-dun-processus" class="hash-link" aria-label="Lien direct vers L&#x27;espace d&#x27;adressage d&#x27;un processus" title="Lien direct vers L&#x27;espace d&#x27;adressage d&#x27;un processus">​</a></h2>
<p>L&#x27;espace d&#x27;adressage d&#x27;un processus ou, mieux encore, l&#x27;espace d&#x27;adressage virtuel d&#x27;un processus est la zone de mémoire virtuelle qu&#x27;un processus peut utiliser. Chaque processus a son propre espace d&#x27;adressage. Même dans les situations où deux processus partagent une zone mémoire, l&#x27;espace virtuel est distinct, mais il est mappé sur la même zone mémoire physique.</p>
<p>La figure suivante montre un espace d&#x27;adressage typique pour un processus. Dans les systèmes d&#x27;exploitation modernes, dans l&#x27;espace virtuel de chaque processus, la mémoire du noyau est mappée, elle peut être mappée au début ou à la fin de l&#x27;espace d&#x27;adressage. Ensuite, nous ferons uniquement référence à l&#x27;espace d&#x27;adressage dans l&#x27;espace utilisateur pour un processus.</p>
<p>Les 4 zones importantes de l&#x27;espace d&#x27;adressage du processus sont la zone de données, la zone de code, la pile et le tas. Comme le montre la figure, la pile et le tas sont les zones qui peuvent croître. En fait, ces deux domaines sont dynamiques et n&#x27;ont de sens que dans le contexte d&#x27;un processus. De l&#x27;autre côté, les données dans la zone de données et la zone de code sont décrites dans l&#x27;exécutable.</p>
<p><img decoding="async" loading="lazy" alt="L&amp;#39;espace d&amp;#39;adressage d&amp;#39;un processus" src="/assets/images/process_address_space-128650d74129271b444d496efdccd296.jpg" width="337" height="498" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="zones-de-données">Zones de données<a href="#zones-de-données" class="hash-link" aria-label="Lien direct vers Zones de données" title="Lien direct vers Zones de données">​</a></h3>
<p>Les zones de données contiennent les variables globales définies dans un programme et les variables en lecture seule. Il existe plusieurs sous-types de zones de données selon le type de données.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="data">.data<a href="#data" class="hash-link" aria-label="Lien direct vers .data" title="Lien direct vers .data">​</a></h4>
<p>La zone <code>.data</code> contient les variables globales et les variables statiques <strong>initialized</strong> aux valeurs nulles d&#x27;un programme. Par exemple:</p>
<div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">mut</span><span class="token plain"> a</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">u32</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="bss">.bss<a href="#bss" class="hash-link" aria-label="Lien direct vers .bss" title="Lien direct vers .bss">​</a></h4>
<p>La zone <code>.bss</code> contient les variables globales et statiques <strong>initialized</strong> d&#x27;un programme. Avant l&#x27;exécution du code, ce segment est initialisé avec 0. Par exemple:</p>
<div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">mut</span><span class="token plain"> a</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">u32</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>En général, ces variables ne seront pas préallouées dans l&#x27;exécutable, mais lors de la création du processus. L&#x27;allocation de la zone <code>.bss</code> se fait sur des pages mises à zéro.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="rodata">.rodata<a href="#rodata" class="hash-link" aria-label="Lien direct vers .rodata" title="Lien direct vers .rodata">​</a></h4>
<p>La zone <code>.rodata</code> contient des informations qui ne peuvent être lues que et non modifiées. Voici les literals <strong>stockés</strong>:</p>
<div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">&quot;Hello, World!&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token string" style="color:#e3116c">&quot;En Taro Adun!&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Toutes les variables globales déclarées avec le mot-clé <code>const</code> seront sont alignées dans leur lieu d&#x27;utilisation. Les variables locales déclarées seront placées sur la pile, Un cas particulier est représenté par les variables locales constantes déclarées avec le mot-clé <code>static</code> qui seront mises dans le <code>.data</code> :</p>
<div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">mut</span><span class="token plain"> a</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">u32</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic">/* dans .rodata */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:#d73a49">myfunc</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> a</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">i32</span><span class="token plain">                       </span><span class="token comment" style="color:#999988;font-style:italic">/* sur la pile */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> some_const</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">u32</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">       </span><span class="token comment" style="color:#999988;font-style:italic">/* sur la pile */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">mut</span><span class="token plain"> p</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">u32</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">/* dans .data */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> p</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">u32</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">/* dans .rodata */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pile">Pile<a href="#pile" class="hash-link" aria-label="Lien direct vers Pile" title="Lien direct vers Pile">​</a></h3>
<p>La pile est une région dynamique au sein d&#x27;un processus, gérée automatiquement par le compilateur.</p>
<p>La pile est utilisée pour stocker des “cadres de pile”. Un nouveau “cadre de pile” sera créé pour chaque appel de fonction.</p>
<p>Un “cadre de pile” contient:</p>
<ul>
<li>variables locales</li>
<li>arguments de fonction</li>
<li>adresse de retour</li>
</ul>
<p>Sur la grande majorité des architectures modernes, la pile croît (des grandes adresses aux petites adresses) et le tas augmente. La pile augmente à chaque appel de fonction et diminue à chaque retour de la fonction.</p>
<p>La figure ci-dessous montre une vue conceptuelle sur la pile lors de l&#x27;appel d&#x27;une fonction.</p>
<p><img decoding="async" loading="lazy" alt="Pile d&amp;#39;appel" src="/assets/images/call_stack-f6a8dfe5fec12e6a96e7d1dd3643db8d.jpg" width="518" height="395" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tasheap">Tas(Heap)<a href="#tasheap" class="hash-link" aria-label="Lien direct vers Tas(Heap)" title="Lien direct vers Tas(Heap)">​</a></h3>
<p>Le tas est la zone de mémoire dédiée à l&#x27;allocation dynamique de mémoire. Le segment de mémoire est utilisé pour allouer des régions de mémoire dont la taille est déterminée lors de l&#x27;exécution.</p>
<p>Comme la pile, le tas est une région dynamique qui change sa taille. Contrairement à la pile, cependant, le tas n&#x27;est pas géré par le compilateur. Il est du devoir du programmeur de savoir combien de mémoire allouer et de se rappeler combien allouer et quand allouer. Les problèmes courants dans la plupart des programmes sont la perte de références aux zones allouées (fuites de mémoire) ou la référence de zones non allouées ou insuffisamment allouées (accès invalides).</p>
<p>Dans des langages comme Java, Lisp, etc. là où il n&#x27;y a pas de “liberté de pointeur”, l&#x27;effacement de l&#x27;espace alloué se fait automatiquement via un garbage collector. Sur ces systèmes, le problème de la perte de références est évité, mais le problème de référence de zones non allouées reste actif.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="allocation--affectation-de-mémoire">Allocation / affectation de mémoire<a href="#allocation--affectation-de-mémoire" class="hash-link" aria-label="Lien direct vers Allocation / affectation de mémoire" title="Lien direct vers Allocation / affectation de mémoire">​</a></h2>
<p><strong>L&#x27;allocation de mémoire</strong> est effectuée statiquement par le compilateur ou dynamiquement pendant l&#x27;exécution. L&#x27;allocation statique est effectuée dans des segments de données pour les variables globales ou pour les littéraux.</p>
<p>Lors de l&#x27;exécution, les variables sont allouées sur la pile ou dans le tas. L&#x27;allocation de pile est automatiquement effectuée par le compilateur pour les variables locales d&#x27;une fonction (à l&#x27;exception des variables locales préfixées par l&#x27;identifiant <strong>statique</strong>).</p>
<p><em>L&#x27;allocation dynamique</em> se fait en tas. L&#x27;allocation dynamique se produit quand on ne sait pas, au moment de la compilation, combien de mémoire sera nécessaire pour une variable, une structure, un vecteur. Si, au moment de la compilation, on sait combien d&#x27;espace une variable occupera, son allocation statique est recommandée, afin d&#x27;éviter les erreurs qui se produisent fréquemment dans le contexte de l&#x27;allocation dynamique.</p>
<p>Afin de fragmenter le moins possible l&#x27;espace d&#x27;adressage du processus, à la suite d&#x27;allocations et de désallocations de zones de différentes tailles, l&#x27;allocateur de mémoire organisera le segment de données alloué dynamiquement en tas , d&#x27;où le nom du segment.</p>
<p><strong>Débordement de mémoire</strong> signifie libérer de la zone de mémoire précédemment allouée (elle est marquée comme libre).</p>
<p>Si le verrouillage d&#x27;une zone mémoire est omis, il restera alloué pendant toute la durée d&#x27;exécution du processus. Chaque fois qu&#x27;une zone mémoire n&#x27;est plus nécessaire, elle doit être compensée pour l&#x27;efficacité d&#x27;utilisation de l&#x27;espace mémoire.</p>
<p>Il n&#x27;est pas nécessaire de traiter différents domaines avant un appel <a href="https://linux.die.net/man/3/exit" target="_blank" rel="noopener noreferrer">exit</a> ou avant la fin du programme car ils sont automatiquement libérés par le système d&#x27;exploitation.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>remarque</div><div class="admonitionContent_BuS1"><p>Dans la plupart des cas, des problèmes surviennent si vous essayez de colocaliser deux fois la même zone de mémoire. En effet, les données de gestion interne des zones allouées sont corrompues. Habituellement, le noyau signale le problème avec une interruption synchrone.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="allocation-de-mémoire-sous-linux">Allocation de mémoire sous Linux<a href="#allocation-de-mémoire-sous-linux" class="hash-link" aria-label="Lien direct vers Allocation de mémoire sous Linux" title="Lien direct vers Allocation de mémoire sous Linux">​</a></h3>
<p>Sous Linux, l&#x27;allocation de mémoire pour les processus utilisateur se fait via les fonctions de bibliothèque <a href="https://linux.die.net/man/3/malloc" target="_blank" rel="noopener noreferrer">malloc</a>, <a href="https://linux.die.net/man/3/calloc" target="_blank" rel="noopener noreferrer">calloc</a> et <a href="https://linux.die.net/man/3/realloc" target="_blank" rel="noopener noreferrer">realloc</a>, et sa collocation à travers la fonction <a href="https://linux.die.net/man/3/free" target="_blank" rel="noopener noreferrer">free</a>. Ces fonctions représentent les appels de bibliothèque et résolvent, dans la mesure du possible, l&#x27;allocation de mémoire et les demandes d&#x27;allocation dans l&#x27;espace utilisateur.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="mémoire-virtuelle">Mémoire virtuelle<a href="#mémoire-virtuelle" class="hash-link" aria-label="Lien direct vers Mémoire virtuelle" title="Lien direct vers Mémoire virtuelle">​</a></h2>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>attention</div><div class="admonitionContent_BuS1"><p>Vous pouvez trouver dans la section Bibliographie les liens pour les fonctions de Rust qui sont correspondant aux fonctions de C utilisees par Linux. S&#x27;il vous plait de les consulter!</p></div></div>
<p>Le mécanisme de mémoire virtuelle est utilisé par le cœur du système d&#x27;exploitation pour implémenter une politique de gestion de mémoire efficace. Ainsi, bien que les applications utilisent actuellement la mémoire virtuelle, elles ne le font pas explicitement. Cependant, dans certains cas, les applications utilisent explicitement la mémoire virtuelle.</p>
<p>Le système d&#x27;exploitation fournit des primitives pour mapper des fichiers, de la mémoire ou des périphériques à l&#x27;espace d&#x27;adressage d&#x27;un processus.</p>
<ul>
<li><strong>Le mappage de fichiers</strong> en mémoire est utilisé dans certains systèmes d&#x27;exploitation pour implémenter des mécanismes de mémoire partagée. De plus, ce mécanisme permet d&#x27;implémenter la pagination à la demande et des bibliothèques partagées.</li>
<li><strong>Le mappage de la mémoire</strong> dans l&#x27;espace d&#x27;adressage est utile lorsqu&#x27;un processus souhaite allouer une grande quantité de mémoire.</li>
<li><strong>Le mappage d&#x27;appareil</strong> est utile lorsqu&#x27;un processus souhaite utiliser directement la mémoire d&#x27;un appareil (comme une carte vidéo).</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="concepts-théoriques">Concepts théoriques<a href="#concepts-théoriques" class="hash-link" aria-label="Lien direct vers Concepts théoriques" title="Lien direct vers Concepts théoriques">​</a></h3>
<p>La taille de l&#x27;espace d&#x27;adressage virtuel d&#x27;un processus dépend de la taille des registres du processeur. Ainsi, sur un système 32 bits, un processus pourra accéder à 2 ^ 32 = 4 Go d&#x27;espace mémoire (en revanche, sur un système 64 bits, il accédera théoriquement à 2 ^ 64 B). L&#x27;espace mémoire du processus est divisé en un espace réservé aux adresses de noyau virtuel - cet espace est commun à tous les processus - et l&#x27;espace d&#x27;adressage virtuel (propre) du processus. La plupart du temps, le partage entre les deux est de 3/1 (3 Go d&#x27;espace utilisateur contre 1 Go d&#x27;espace noyau).</p>
<p>La mémoire physique (RAM) est répartie entre les processus actuellement actifs et le système d&#x27;exploitation. Ainsi, selon la quantité de mémoire dont nous disposons sur la machine physique, il est possible d&#x27;épuiser toutes les ressources et de ne pas pouvoir démarrer un nouveau processus. Pour éviter ce scénario, le mécanisme de mémoire virtuelle a été introduit. De cette façon, même si l&#x27;espace virtuel (composé du segment de texte, de la date, du tas, de la pile) d&#x27;un processus est plus grand que la mémoire physique disponible sur le système, le processus pourra s&#x27;exécuter en mémoire en ne chargeant que les pages dont il a besoin dans temps d&#x27;exécution (paging à la demande).</p>
<p>L&#x27;espace d&#x27;adressage virtuel est divisé en pages virtuelles (page). Le correspondant de la mémoire physique est la page physique (frame). La taille d&#x27;une page virtuelle est égale à celle d&#x27;une page physique. La taille est donnée par le matériel (dans la plupart des cas, une page a 4 Ko sur un système 32 bits ou 64 bits).</p>
<p>Tant qu&#x27;un processus en cours d&#x27;exécution n&#x27;accède qu&#x27;aux pages résidant en mémoire, il s&#x27;exécute comme s&#x27;il avait tout l&#x27;espace mappé dans la mémoire physique. Lorsqu&#x27;un processus souhaite accéder à une certaine page virtuelle, qui n&#x27;est pas mappée en mémoire, une erreur de page sera générée, et après cette page manquante, la page virtuelle sera mappée sur une page physique. Deux processus différents ont un espace virtuel différent, mais certaines pages virtuelles de ces processus peuvent être mappées sur la même page physique. Ainsi, deux processus différents peuvent partager la même page physique, mais ne partagent pas de pages virtuelles.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="malloc">malloc<a href="#malloc" class="hash-link" aria-label="Lien direct vers malloc" title="Lien direct vers malloc">​</a></h3>
<p>Comme nous l&#x27;avons trouvé dans la section Allocation de mémoire sous Linux, <code>malloc</code> alloue de la mémoire sur le tas, donc dans l&#x27;espace virtuel du processus.</p>
<p>L&#x27;allocation de mémoire virtuelle se fait au niveau de la page, de sorte que <code>malloc</code> alloue réellement le plus petit nombre de pages virtuelles qui composent l&#x27;espace mémoire requis. Soit le code suivant:</p>
<p>Rust utilise la fonction <code>malloc</code> de la <code>libc</code> pour allouer de la mémoire lors de l&#x27;utilisation, par exemple, de <code>Vec::new()</code>.</p>
<div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">p </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">malloc</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">4150</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token constant" style="color:#36acaa">DIE</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">p </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;malloc failed&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Étant donné qu&#x27;une page virtuelle a 4KB = 4096 octets, alors l&#x27;appel <code>malloc</code> allouera 4096 octets + 54 octets = 4KB + 54 octets, espace qui n&#x27;est pas contenu dans une seule page virtuelle, de sorte que 2 pages seront allouées virtuel. Au moment de l&#x27;affectation avec “malloc” il n&#x27;y aura pas de pages allouées (tout le temps) et physiques; ils ne seront alloués que lors de l&#x27;accès aux données de la zone de mémoire allouée avec &#x27;malloc&#x27;. Par exemple, lors de l&#x27;accès à un élément à partir de p, une erreur de page sera générée et la page virtuelle contenant cet élément sera mappée sur une page physique.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>remarque</div><div class="admonitionContent_BuS1"><p>Généralement, sur le petit appel malloc (lorsque l&#x27;appel système <code>brk</code> est rappelé), la bibliothèque C standard analyse les pages allouées, génère des erreurs de page et lorsque l&#x27;appel revient, les pages physiques seront déjà allouées. On peut dire que pour les petites dimensions, l&#x27;appel &#x27;malloc&#x27;, vu depuis l&#x27;application (en dehors de la bibliothèque standard C), alloue également des pages physiques et des pages virtuelles.</p><p>De plus, l&#x27;allocation réelle des pages virtuelles et physiques se produit au moment de l&#x27;appel système <code>brk</code> . Il alloue un espace plus grand, et les futurs appels <code>malloc</code> utiliseront cet espace. De cette façon, les appels “malloc” suivants seront efficaces: ils ne feront pas d&#x27;appels système, ils ne feront pas d&#x27;allocation efficace d&#x27;espace virtuel ou physique, ils ne généreront pas de défauts de page .</p><p>L&#x27;appel malloc est plus efficace que l&#x27;appel calloc car il ne parcourt pas l&#x27;espace alloué pour le remplir de zéros. Cela signifie que <code>malloc</code> renverra la zone allouée avec les informations qui s&#x27;y trouvent; Dans certaines situations, cela peut constituer un risque pour la sécurité - si les données y sont privées.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="mappage-de-fichiers">Mappage de fichiers<a href="#mappage-de-fichiers" class="hash-link" aria-label="Lien direct vers Mappage de fichiers" title="Lien direct vers Mappage de fichiers">​</a></h3>
<p>Après avoir mappé un fichier à l&#x27;espace d&#x27;adressage du processus, l&#x27;accès à ce fichier peut se faire de la même manière que l&#x27;accès aux données à partir d&#x27;un vecteur. L&#x27;efficacité de la méthode vient du fait que la zone mémoire est gérée de la même manière que la mémoire virtuelle, soumise aux règles d&#x27;évacuation du disque lorsque la mémoire devient insuffisante (de cette façon on peut travailler avec des mappages qui dépassent la taille effective de la mémoire physique). De plus, la partie <code>I / O</code> est réalisée par le noyau, le programmeur écrivant du code qui ne récupère / stocke que les valeurs de / dans la région mappée. Ainsi, il n&#x27;est plus appelé <code>read</code> , <code>write</code> , <code>lseek</code> - ce qui simplifie souvent l&#x27;écriture de code.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>attention</div><div class="admonitionContent_BuS1"><p>Tous les descripteurs de fichiers ne peuvent pas être mappés en mémoire. Les sockets, les tuyaux, les périphériques qui n&#x27;autorisent que l&#x27;accès séquentiel (par exemple, le périphérique char) sont incompatibles avec les concepts de mappage. Il existe des cas où les fichiers normaux ne peuvent pas être mappés (par exemple, s&#x27;ils n&#x27;étaient pas ouverts pour plus de lisibilité; pour plus d&#x27;informations: <strong>man mmap</strong> ).</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="mmap">mmap<a href="#mmap" class="hash-link" aria-label="Lien direct vers mmap" title="Lien direct vers mmap">​</a></h4>
<p>Prototype de fonction mmap qui permet le mappage d&#x27;un fichier à l&#x27;espace d&#x27;adressage du processus est le suivant:</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token function" style="color:#d73a49">mmap</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">start</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">size_t</span><span class="token plain"> length</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> prot</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> flags</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> fd</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">off_t</span><span class="token plain"> offset</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">pub</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">unsafe</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:#d73a49">mmap</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    addr</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">Option</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token class-name">NonZeroUsize</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    length</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">NonZeroUsize</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    prot</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">ProtFlags</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    flags</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">MapFlags</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fd</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">RawFd</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    offset</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> off_t</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">-&gt;</span><span class="token plain"> </span><span class="token class-name">Result</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">*</span><span class="token keyword" style="color:#00009f">mut</span><span class="token plain"> c_void</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>La fonction retournera en cas d&#x27;erreur <code>MAP_FAILED</code> . Si le mappage a réussi, il renverra un pointeur vers une zone de mémoire dans l&#x27;espace d&#x27;adressage du processus, la zone où le fichier décrit par le descripteur <code>fd</code> a été mappé, en commençant par l&#x27;offset. L&#x27;utilisation du paramètre <code>start</code> vous permet de proposer une zone mémoire spécifique à mapper. L&#x27;utilisation de la valeur NULL pour le paramètre start indique l&#x27;absence de préférence concernant la zone dans laquelle l&#x27;allocation sera effectuée. L&#x27;adresse spécifiée par le paramètre start doit être multiple de la taille d&#x27;une page . Si le système d&#x27;exploitation ne peut pas mapper le fichier à l&#x27;adresse requise, il le mappera à un emplacement proche et multiple de <em>la taille d&#x27;une page</em>. L&#x27;adresse la plus appropriée est également retournée.</p>
<p>Le paramètre <code>prot</code> spécifie le type d&#x27;accès souhaité:</p>
<ul>
<li><code>PROT_READ</code> (lire)</li>
<li><code>PROT_WRITE</code> (écrire)</li>
<li><code>PROT_EXEC</code> (exécution)</li>
<li><code>PROT_NONE</code></li>
</ul>
<p>Lorsque la zone est utilisée autrement que ce qui est indiqué, un signal <code>SIGSEGV</code> est généré.</p>
<p>Le paramètre <code>flags</code> vous permet de définir le type de mappage que vous souhaitez; il peut prendre les valeurs suivantes (combinées par OR en bits; il doit y avoir au moins <code>MAP_PRIVATE</code> ou <code>MAP_SHARED</code> ):</p>
<ul>
<li>
<p><code>MAP_PRIVATE</code> - Utilisez une politique de copie sur écriture . La zone contiendra initialement une copie du fichier, mais les écritures ne sont pas effectuées dans le fichier. Les modifications ne seront pas visibles dans les autres processus , s&#x27;il y a plusieurs processus qui ont fait “mmap” sur la même zone du même fichier.</p>
</li>
<li>
<p><code>MAP_SHARED</code> - Les entrées sont mises à jour immédiatement dans tous les mappages existants. De cette façon, tous les processus qui ont effectué des mappages verront les modifications. En effet, les mappages “MAP_SHARED” sont effectués sur les pages physiques du cache de pages et les appels r / w utilisent les pages physiques du cache de pages pour réduire le nombre de lectures / écritures à partir du disque. Les mises à jour du disque auront lieu ultérieurement, sans précision.</p>
</li>
<li>
<p><code>MAP_FIXED</code> - Si l&#x27;affectation à l&#x27;adresse spécifiée par start ne peut pas être effectuée, l&#x27;appel échouera.</p>
</li>
<li>
<p><code>MAP_LOCKED</code> - Cette page sera bloquée de cette manière <a href="https://linux.die.net/man/2/mlock" target="_blank" rel="noopener noreferrer">mlock</a>.</p>
</li>
<li>
<p><code>MAP_ANONYMOUS</code> - Mappe la RAM (les arguments fd et offset sont ignorés).</p>
<p>Il est à noter que l&#x27;utilisation de <code>MAP_SHARED</code> permet le partage de mémoire entre des processus qui ne sont pas liés. Dans ce cas, le contenu du fichier devient le contenu initial de la mémoire partagée et toutes les modifications apportées par les processus dans cette zone sont ensuite copiées dans le fichier, garantissant ainsi la persistance dans le système de fichiers.</p>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="msync">msync<a href="#msync" class="hash-link" aria-label="Lien direct vers msync" title="Lien direct vers msync">​</a></h4>
<p>La fonctionnalité est disponible pour déclencher explicitement la synchronisation des fichiers avec le mappage de la mémoire <a href="https://linux.die.net/man/2/msync" target="_blank" rel="noopener noreferrer">msync</a>:</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">msync</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">start</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">size_t</span><span class="token plain"> length</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> flags</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">pub</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">unsafe</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:#d73a49">msync</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    addr</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token keyword" style="color:#00009f">mut</span><span class="token plain"> c_void</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    length</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> size_t</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    flags</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">MsFlags</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">-&gt;</span><span class="token plain"> </span><span class="token class-name">Result</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>où <code>drapeaux</code> peut être:</p>
<ul>
<li><code>MS_SYNC</code> - Les données seront écrites dans le fichier et attendront jusqu&#x27;à ce qu&#x27;elles soient terminées.</li>
<li><code>MS_ASYNC</code> - La séquence de sauvegarde est lancée, mais son achèvement n&#x27;est pas prévu.</li>
<li><code>MS_INVALIDATE</code> - Le mappage de la zone à partir d&#x27;autres processus est invalidé, de sorte que les processus seront mis à jour avec les nouvelles données entrées.</li>
</ul>
<p>L&#x27;appel msync est utile pour écrire des pages modifiées du cache de pages sur le disque, afin d&#x27;éviter de perdre des modifications en cas de plantage du système.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="allouer-de-la-mémoire-dans-lespace-dadressage-du-processus">Allouer de la mémoire dans l&#x27;espace d&#x27;adressage du processus<a href="#allouer-de-la-m émoire-dans-lespace-dadressage-du-processus" class="hash-link" aria-label="Lien direct vers Allouer de la mémoire dans l&#x27;espace d&#x27;adressage du processus" title="Lien direct vers Allouer de la mémoire dans l&#x27;espace d&#x27;adressage du processus">​</a></h3>
<p>Sous UNIX, traditionnellement, pour l&#x27;allocation de mémoire dynamique , l&#x27;appel système est utilisé <a href="https://linux.die.net/man/2/brk" target="_blank" rel="noopener noreferrer">brk</a>. Cet appel augmente ou diminue la zone de segment de mémoire associée au processus. Avec la fourniture d&#x27;appels du système de gestion de la mémoire virtuelle aux applications (<a href="https://linux.die.net/man/2/mmap" target="_blank" rel="noopener noreferrer">mmap</a>), il était possible pour les processus d&#x27;allouer de la mémoire à l&#x27;aide de ces nouveaux appels système. Fondamentalement, les processus peuvent mapper la mémoire à l&#x27;espace d&#x27;adressage, pas aux fichiers.</p>
<p>Les processus peuvent nécessiter l&#x27;allocation d&#x27;une zone mémoire à partir d&#x27;une adresse spécifique dans l&#x27;espace adresse, même avec une certaine stratégie d&#x27;accès (lecture, écriture ou exécution). Sous UNIX, cela se fait également via la fonction mmap. Pour cela, le paramètre <code>flags</code> doit contenir le flag <code>MAP_ANONYMOUS</code> .</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="appareils-de-cartographie">Appareils de cartographie<a href="#appareils-de-cartographie" class="hash-link" aria-label="Lien direct vers Appareils de cartographie" title="Lien direct vers Appareils de cartographie">​</a></h3>
<p>Il est même possible pour les applications de mapper un périphérique d&#x27;entrée-sortie dans l&#x27;espace d&#x27;adressage du processus. Ceci est utile, par exemple, pour les cartes vidéo: une application peut mapper la mémoire physique de la carte vidéo à l&#x27;espace d&#x27;adressage. Sous UNIX, les périphériques étant représentés par des fichiers, il suffit pour cela d&#x27;ouvrir le fichier associé au périphérique et de l&#x27;utiliser dans un appel <code>mmap</code> .</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>remarque</div><div class="admonitionContent_BuS1"><p>Tous les appareils ne peuvent pas être mappés en mémoire, mais lorsqu&#x27;ils sont mappés, l&#x27;importance de ce mappage dépend strictement de l&#x27;appareil.</p></div></div>
<p>Un autre exemple d&#x27;un périphérique qui peut être mappé est la mémoire elle-même. Sous Linux, vous pouvez utiliser le fichier <code>/ dev / zero</code> pour effectuer le mappage de la mémoire, comme si vous utilisiez l&#x27;indicateur <code>MAP_ANONYMOUS</code> .</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="suppression-dune-zone-de-lespace-dadressage">Suppression d&#x27;une zone de l&#x27;espace d&#x27;adressage<a href="#suppression-dune-zone-de-lespace-dadressage" class="hash-link" aria-label="Lien direct vers Suppression d&#x27;une zone de l&#x27;espace d&#x27;adressage" title="Lien direct vers Suppression d&#x27;une zone de l&#x27;espace d&#x27;adressage">​</a></h3>
<p>Si vous souhaitez effacer une zone de l&#x27;espace d&#x27;adressage du processus, vous pouvez utiliser la fonction <a href="https://linux.die.net/man/3/munmap" target="_blank" rel="noopener noreferrer">munmap</a>:</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">munmap</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">start</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">size_t</span><span class="token plain"> length</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">pub</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">unsafe</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:#d73a49">munmap</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">addr</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token keyword" style="color:#00009f">mut</span><span class="token plain"> c_void</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> len</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> size_t</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">-&gt;</span><span class="token plain"> </span><span class="token class-name">Result</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>addr</code> est l&#x27;adresse de la première page à délimiter (doit être multiple de la taille d&#x27;une page ). Si la <code>longueur</code> n&#x27;est pas une taille qui représente un nombre entier de pages, elle sera arrondie plus haut. La zone peut contenir des pièces qui ont déjà été supprimées. Vous pouvez ainsi effacer plusieurs zones en même temps.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="redimensionner-une-zone-mappée">Redimensionner une zone mappée<a href="#redimensionner-une-zone-mappée" class="hash-link" aria-label="Lien direct vers Redimensionner une zone mappée" title="Lien direct vers Redimensionner une zone mappée">​</a></h3>
<p>La fonction peut être utilisée pour effectuer des opérations de redimensionnement de la zone de mappage <a href="https://linux.die.net/man/2/mremap" target="_blank" rel="noopener noreferrer">mremap</a>:</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token function" style="color:#d73a49">mremap</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">old_address</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">size_t</span><span class="token plain"> old_size</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">size_t</span><span class="token plain"> new_size</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> flags</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">pub</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">unsafe</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:#d73a49">mremap</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    addr</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token keyword" style="color:#00009f">mut</span><span class="token plain"> c_void</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    old_size</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> size_t</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    new_size</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> size_t</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    flags</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">MRemapFlags</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    new_address</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">Option</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">*</span><span class="token keyword" style="color:#00009f">mut</span><span class="token plain"> c_void</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">-&gt;</span><span class="token plain"> </span><span class="token class-name">Result</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">*</span><span class="token keyword" style="color:#00009f">mut</span><span class="token plain"> c_void</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>La zone décrite par <code>addr</code> et <code>old_size</code> doit appartenir à un seul mappage. Une seule option est disponible pour les <code>indicateurs</code> : <code>MREMAP_MAYMOVE</code> qui montre qu&#x27;il est correct d&#x27;obtenir le nouveau mappage pour effectuer un nouveau mappage dans une autre zone de mémoire (l&#x27;ancienne zone étant floue).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="modifier-la-protection-dune-zone-cartographiée">Modifier la protection d&#x27;une zone cartographiée<a href="#modifier-la-protection-dune-zone-cartographiée" class="hash-link" aria-label="Lien direct vers Modifier la protection d&#x27;une zone cartographiée" title="Lien direct vers Modifier la protection d&#x27;une zone cartographiée">​</a></h3>
<p>Parfois, il est nécessaire de changer la façon (droits d&#x27;accès) dans laquelle une zone a été cartographiée. Pour cela, vous pouvez utiliser la fonction <a href="https://linux.die.net/man/2/mprotect" target="_blank" rel="noopener noreferrer">mprotect</a>:</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">mprotect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">addr</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">size_t</span><span class="token plain"> len</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> prot</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">pub</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">unsafe</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:#d73a49">mprotect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    addr</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token keyword" style="color:#00009f">mut</span><span class="token plain"> c_void</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    length</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> size_t</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    prot</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">ProtFlags</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">-&gt;</span><span class="token plain"> </span><span class="token class-name">Result</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>La fonction reçoit comme paramètres la plage d&#x27;adresses [ <code>addr</code> , <code>addr + length - 1</code>] et de nouveaux droits d&#x27;accès ( <code>PROT_READ</code> , <code>PROT_WRITE</code> , <code>PROT_EXEC</code> ,<code>PROT_NONE</code>). Comme dans munmap, <code>addr</code> doit être multiple de la taille de la page . La fonction modifiera la protection de toutes les pages contenant au moins un octet dans la plage spécifiée.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="exercises">Exercises<a href="#exercises" class="hash-link" aria-label="Lien direct vers Exercises" title="Lien direct vers Exercises">​</a></h2>
<ol>
<li>Exécutez le programme dans ex1. Répondez aux questions posées par le programme.</li>
<li>Résolvez les lignes TODO (dans l&#x27;ordre) à partir de ex1.</li>
<li>Résolvez les lignes TODO (dans l&#x27;ordre) de ex2.</li>
<li>Résolvez les lignes TODO (dans l&#x27;ordre) de ex3.</li>
</ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/UPB-FILS-SdE2/upb-fils-sde2.github.io/edit/main/versioned_docs/version-2024/tp/08.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Éditer cette page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Pages de documentation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/2024/tp/07"><div class="pagination-nav__sublabel">Précédent</div><div class="pagination-nav__label">TP 07 - Signaux</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/2024/tp/09"><div class="pagination-nav__sublabel">Suivant</div><div class="pagination-nav__label">TP 09 - Mémoire Virtuelle (Mappage de fichiers)</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#resources" class="table-of-contents__link toc-highlight">Resources</a></li><li><a href="#gestion-de-la-mémoire" class="table-of-contents__link toc-highlight">Gestion de la mémoire</a></li><li><a href="#lespace-dadressage-dun-processus" class="table-of-contents__link toc-highlight">L&#39;espace d&#39;adressage d&#39;un processus</a><ul><li><a href="#zones-de-données" class="table-of-contents__link toc-highlight">Zones de données</a></li><li><a href="#pile" class="table-of-contents__link toc-highlight">Pile</a></li><li><a href="#tasheap" class="table-of-contents__link toc-highlight">Tas(Heap)</a></li></ul></li><li><a href="#allocation--affectation-de-mémoire" class="table-of-contents__link toc-highlight">Allocation / affectation de mémoire</a><ul><li><a href="#allocation-de-mémoire-sous-linux" class="table-of-contents__link toc-highlight">Allocation de mémoire sous Linux</a></li></ul></li><li><a href="#mémoire-virtuelle" class="table-of-contents__link toc-highlight">Mémoire virtuelle</a><ul><li><a href="#concepts-théoriques" class="table-of-contents__link toc-highlight">Concepts théoriques</a></li><li><a href="#malloc" class="table-of-contents__link toc-highlight">malloc</a></li><li><a href="#mappage-de-fichiers" class="table-of-contents__link toc-highlight">Mappage de fichiers</a></li><li><a href="#allouer-de-la-mémoire-dans-lespace-dadressage-du-processus" class="table-of-contents__link toc-highlight">Allouer de la mémoire dans l&#39;espace d&#39;adressage du processus</a></li><li><a href="#appareils-de-cartographie" class="table-of-contents__link toc-highlight">Appareils de cartographie</a></li><li><a href="#suppression-dune-zone-de-lespace-dadressage" class="table-of-contents__link toc-highlight">Suppression d&#39;une zone de l&#39;espace d&#39;adressage</a></li><li><a href="#redimensionner-une-zone-mappée" class="table-of-contents__link toc-highlight">Redimensionner une zone mappée</a></li><li><a href="#modifier-la-protection-dune-zone-cartographiée" class="table-of-contents__link toc-highlight">Modifier la protection d&#39;une zone cartographiée</a></li></ul></li><li><a href="#exercises" class="table-of-contents__link toc-highlight">Exercises</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Matériaux</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/category/cours">Cours</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/tp">TP</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/devoir">Devoir</a></li></ul></div><div class="col footer__col"><div class="footer__title">Extra Bibliograhie</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://jimskapt.github.io/rust-book-fr/#le-langage-de-programmation-rust" target="_blank" rel="noopener noreferrer" class="footer__link-item">Le langage de programmation Rust<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://os.phil-opp.com/fr/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Écrire un système d&#x27;exploitation dans Rust<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">En Plus</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/upb-fils-sde2" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Politehnica Bucharest.</div></div></div></footer></div>
</body>
</html>